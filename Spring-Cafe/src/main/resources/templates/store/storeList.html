<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/mainLayout}">

<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Cardo:ital,wght@0,400;0,700;1,400&display=swap"
	rel="stylesheet">

<!-- bootstarp CSS only -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
	crossorigin="anonymous">

<!-- Vendor CSS Files -->
<link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="/vendor/bootstrap-icons/bootstrap-icons.css"
	rel="stylesheet">
<link href="/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
<link href="/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
<link href="/vendor/aos/aos.css" rel="stylesheet">

<!-- Template Main CSS File -->
<link href="/css/main.css" rel="stylesheet">
<title>Insert title here</title>
<!-- 각 페이지의 스크립트가 작성될 위치 -->

<th:block layout:fragment="script">
	<script th:inline="javascript">
		function delOk() {
			if (confirm('해당 가게를 삭제 하시겠습니까?')) {
				alert("가게가 삭제 되었습니다.");
				return true;
			} else {
				return false;
			}
		}
	</script>
</th:block>
<!-- =======================================================
  * Template Name: PhotoFolio - v1.2.0
  * Template URL: https://bootstrapmade.com/photofolio-bootstrap-photography-website-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

	<!-- themleaf fragment content start -->
	<div layout:fragment="content">

		<main id="main" data-aos="fade" data-aos-delay="1500">

			<!-- ======= End Page Header ======= -->
			<div class="page-header d-flex align-items-center"
				style="top: 100px;">
				<div class="container position-relative"
					style="border-bottom: 1px solid white; padding-bottom: 0;">
					<h2>Store List</h2>
				</div>
			</div>
			<!-- End Page Header -->

			<!-- ======= Services Section ======= -->
			<section id="services" class="services">

				<div
					style="display: flex; flex-direction: column; justify-content: center; width: 60%; margin: 0 auto; margin-top: 70px;">


					<table class="table table-hover" style="color: white;">
						<thead>
							<tr>
								<th scope="col">상호명</th>
								<th scope="col">점주</th>
								<th scope="col">연락처</th>
								<th scope="col">주소</th>
							</tr>
						</thead>
						<tbody>
							<!-- th:each 문 -->
							<th:block th:each="lists, status:${list}">
							
								<tr class="tr" style="cursor: pointer;">
								<a th:href="'/store/'+${lists.id}">
									<td>[[${lists.businessName}]]</td>
									<td>[[${lists.phone}]]</td>
									<td>[[${lists.ownerName}]]</td>
									<td>[[${lists.address}]]</td>
									</a>
								</tr>
							</th:block>
						</tbody>
					</table>

					<div>
						<nav style="padding-top: 15px;"
							th:with="start=${(list.number/maxPage)*maxPage + 1},
							end=(${(list.totalPages == 0) ? 1:(start + (maxPage -1 ) < list.totalPages ? start + (maxPage -1) : list.totalPages)})">
							<ul class="pagination" style="justify-content: center;">
								<li class="page-item" th:classappend="${list.first}?'disabled'"><a
									class="page-link"
									th:href="@{'/' + '?searchQuery=' + ${cafeSearchDto.searchQuery} + '&page=' + ${list.number - 1}}">Previous</a></li>
								<li class="page-item"
									th:each="page: ${#numbers.sequence(start, end)}"
									th:classappend="${list.number eq page-1} ? 'active':''"><a
									class="page-link" th:inline="text"
									th:href="@{'/' + '?searchQuery=' + ${cafeSearchDto.searchQuery} + '&page=' + ${page -1} }">[[${page}]]</a>
								</li>
								<li class="page-item" th:classappend="${list.last} ? 'disabled'"><a
									class="page-link"
									th:href="@{'/' + '?searchQuery=' + ${cafeSearchDto.searchQuery} + '&page=' + ${list.number+1}}">Next</a>
								</li>
							</ul>
						</nav>
					</div>

				</div>
			</section>
			<!-- End Pricing Section -->

		</main>
		<!-- End #main -->
	</div>


	<!-- Vendor JS Files -->
	<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="/vendor/swiper/swiper-bundle.min.js"></script>
	<script src="/vendor/glightbox/js/glightbox.min.js"></script>
	<script src="/vendor/aos/aos.js"></script>
	<script src="/vendor/php-email-form/validate.js"></script>

	<!-- Template Main JS File -->
	<script src="/js/main.js"></script>

	<!-- JavaScript Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>

</body>
</html>